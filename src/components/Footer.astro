---
import { getLocalizedRoutes, NavRoutes } from "@/lib/route";

import { defaultLang } from "@/i18n/ui";
import SocialMedia from "./footer/SocialMedia";
import { PhoneIcon, MailIcon, MapPinIcon } from "./footer/SocialMediaLinks";

const locale = Astro.currentLocale ?? defaultLang;

const navigationItems = getLocalizedRoutes(NavRoutes, locale);
---

<footer class="mt-auto w-auto bg-primary text-primary-foreground">
  <div class="w-full px-4 py-12 lg:px-8 lg:py-8 2xl:px-16">
    <div class="flex flex-col gap-12 lg:flex-row lg:justify-center">
      <div class="grid gap-4 lg:w-3/4 lg:grid-cols-2">
        <address class="not-italic">
          <h2 class="mb-4 text-lg font-semibold">Telecommunication Regulator of Cambodia</h2>
          <ul class="space-y-3">
            <li>
              <a href="tel:+85594858349751" class="flex hover:underline">
                <PhoneIcon/>
                <span class="ml-4">(855) 23 722 333 / 6789</span>
              </a>
            </li>
            <li>
              <a href="mailto:example@gmail.com" class="flex hover:underline">
                <MailIcon/>
                <span class="ml-4">info@trc.gov.kh</span>
              </a>
            </li>
            <li>
              <a
                href="https://goo.gl/maps/7S8TwSuD47Ee8MG26"
                target="_blank"
                rel="noopener noreferrer"
                class="flex hover:underline"
              >
                <MapPinIcon/>
                <span class="ml-4">Street 102, Sangkat Wat Phnom, Khan Daun Penh, Phnom Penh</span>
              </a>
            </li>
          </ul>
        </address>
        <div class="flex justify-end">
          <nav>
            <h2 class="mb-4 text-lg font-semibold">Quick Links</h2>
            <ul class="space-y-3">
              {
                navigationItems.map((item) =>
                  item.href ? (
                    <li>
                      <a href={item.href} class="hover:underline">
                        {item.label}
                      </a>
                    </li>
                  ) : item.children ? (
                    <li>
                      <a href={item.children[0]?.href} class="hover:underline">
                        {item.label}
                      </a>
                    </li>
                  ) : (
                    ""
                  ),
                )
              }
            </ul>
          </nav>
          <div class="ml-40">
            <SocialMedia />
          </div> 
        </div>
      </div>
    </div>
    <hr class="w-full border-orange-500 my-8" />
    <div class="flex items-center justify-center">
      <p>Copyright Â©2024 All Rights Reserved | TRC </p>
    </div>
  </div>
</footer>
